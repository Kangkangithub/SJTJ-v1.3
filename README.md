# 神机图鉴 - 军事武器知识图谱系统

一个基于知识图谱的军事武器装备智能管理与可视化系统，集成了武器数据管理、智能问答、推荐系统、武器识别等多项功能。

## 🚀 快速开始

### 环境要求
- Node.js 14.0 或更高版本
- npm 6.0 或更高版本
- SQLite3 数据库

### 启动方式
```bash
# 进入后端目录
cd backend

# 安装依赖（首次运行）
npm install

# 启动开发服务器
npm run dev
```

服务器将在 `http://localhost:3001` 启动，前端页面可通过浏览器访问。

## 👤 管理员账户

**用户名**: `JunkangShen`  
**密码**: `kk20050318`

管理员账户具有以下权限：
- 武器数据的增删改查
- 知识图谱数据管理
- 批量导入导出武器数据
- 制造商、武器类型、国家信息管理

## 📋 项目功能

### 🎯 核心功能

#### 1. 知识图谱可视化 (`knowledge-graph.html`)
- **交互式图谱展示**: 基于D3.js的力导向图，展示武器、国家、制造商、类型之间的关系
- **智能过滤**: 支持按节点类型、关系类型进行筛选
- **搜索功能**: 快速定位特定武器装备
- **缩放控制**: 支持图谱的放大、缩小、重置操作
- **数据导出**: 支持SVG格式的图谱导出

#### 2. 数据管理系统
- **批量添加**: 支持单个或批量添加武器数据
- **数据编辑**: 搜索并编辑现有武器信息
- **删除功能**: 安全的武器数据删除操作
- **导入导出**: 支持JSON格式的批量数据导入导出
- **关联管理**: 制造商、武器类型、国家信息的统一管理

#### 3. 智能问答系统 (`qa.html`)
- 基于知识图谱的智能问答
- 支持自然语言查询武器信息
- 上下文理解和多轮对话

#### 4. 智能推荐系统 (`recommendation.html`)
- 基于用户行为的个性化推荐
- 相似武器推荐
- 热门武器展示

#### 5. 武器识别系统 (`weapon-recognition.html`)
- 基于深度学习的武器图像识别
- 支持多种武器类型识别
- 实时识别结果展示

#### 6. 军事测验系统 (`test.html`)
- 多样化的军事知识测试
- 自动评分和结果分析
- 知识点覆盖度统计

### 🔧 技术特性

#### 前端技术栈
- **HTML5/CSS3**: 响应式设计，支持多设备访问
- **JavaScript ES6+**: 现代化的前端交互逻辑
- **D3.js**: 强大的数据可视化库
- **Chart.js**: 图表展示和数据分析
- **Font Awesome**: 丰富的图标库

#### 后端技术栈
- **Node.js**: 高性能的服务器端运行环境
- **Express.js**: 轻量级的Web应用框架
- **SQLite3**: 嵌入式关系型数据库
- **JWT**: 安全的用户认证机制

#### 数据存储
- **SQLite数据库**: 存储武器数据、用户信息、关系数据
- **JSON格式**: 支持数据的导入导出
- **文件存储**: 武器图片和相关资源

## 📁 项目结构

```
兵智世界v1.3/
├── README.md                    # 项目说明文档
├── index.html                   # 主页面
├── knowledge-graph.html         # 知识图谱页面
├── qa.html                      # 智能问答页面
├── recommendation.html          # 智能推荐页面
├── weapon-recognition.html      # 武器识别页面
├── test.html                    # 军事测验页面
├── login.html                   # 登录页面
├── register.html                # 注册页面
├── profile.html                 # 个人中心页面
├── styles/                      # 样式文件目录
│   ├── common.css              # 通用样式
│   ├── knowledge-graph.css     # 知识图谱样式
│   ├── management-interface-enhanced.css  # 管理界面样式
│   └── ...                     # 其他样式文件
├── scripts/                     # JavaScript脚本目录
│   ├── knowledge-graph.js      # 知识图谱核心逻辑
│   ├── weapon-delete-fix.js    # 武器删除功能修复
│   ├── auth.js                 # 用户认证逻辑
│   ├── common.js               # 通用工具函数
│   └── ...                     # 其他脚本文件
├── backend/                     # 后端服务目录
│   ├── src/                    # 源代码目录
│   │   ├── app.js              # 主应用入口
│   │   ├── app-simple.js       # 简化版应用入口
│   │   ├── routes/             # 路由定义
│   │   ├── services/           # 业务逻辑服务
│   │   ├── middleware/         # 中间件
│   │   ├── config/             # 配置文件
│   │   └── utils/              # 工具函数
│   ├── data/                   # 数据文件
│   │   └── military-knowledge.db  # SQLite数据库
│   ├── package.json            # 依赖配置
│   └── ...                     # 其他后端文件
├── data/                        # 数据文件目录
│   ├── military.json           # 军事数据
│   └── ...                     # 其他数据文件
└── images/                      # 图片资源目录
    ├── weapons/                # 武器图片
    └── ...                     # 其他图片资源
```

## 🛠️ 开发指南

### 数据库结构
项目使用SQLite数据库存储数据，主要表结构包括：
- `weapons`: 武器基本信息
- `manufacturers`: 制造商信息
- `weapon_manufacturers`: 武器-制造商关联表
- `users`: 用户信息
- `user_interests`: 用户兴趣记录

### API接口
后端提供RESTful API接口：
- `GET /api/weapons`: 获取武器列表
- `POST /api/weapons`: 创建新武器
- `PUT /api/weapons/:id`: 更新武器信息
- `DELETE /api/weapons/:id`: 删除武器
- `GET /api/knowledge/graph-data`: 获取知识图谱数据
- 更多接口详见各路由文件

### 前端组件
- **知识图谱组件**: 基于D3.js的交互式图谱
- **数据管理组件**: 模态框式的数据操作界面
- **搜索组件**: 实时搜索和过滤功能
- **图表组件**: 基于Chart.js的数据可视化

## 🔒 安全特性

- **JWT认证**: 安全的用户身份验证
- **权限控制**: 基于角色的访问控制
- **数据验证**: 前后端双重数据验证
- **SQL注入防护**: 参数化查询防止SQL注入
- **XSS防护**: 输入输出过滤防止跨站脚本攻击

## 📊 数据管理功能

### 武器数据管理
- **批量添加**: 支持表单和JSON文件批量导入
- **智能编辑**: 搜索定位，快速编辑武器信息
- **安全删除**: 确认机制防止误删除
- **数据导出**: 支持完整数据导出备份

### 关联数据管理
- **制造商管理**: 新增、编辑制造商信息
- **武器类型管理**: 维护武器分类体系
- **国家信息管理**: 管理制造国家数据

### 数据完整性
- **重复检测**: 自动检测重复武器名称
- **关联验证**: 确保数据关联的完整性
- **备份恢复**: 支持数据备份和恢复操作

## 🎨 用户界面

### 响应式设计
- 支持桌面端、平板、手机等多种设备
- 自适应布局，优化不同屏幕尺寸的显示效果

### 交互体验
- 直观的操作界面
- 实时反馈和状态提示
- 流畅的动画效果

### 主题风格
- 现代化的扁平设计
- 军事风格的配色方案
- 清晰的信息层次结构

## 🚀 部署说明

### 开发环境
```bash
# 克隆项目
git clone [项目地址]

# 进入项目目录
cd 兵智世界v1.3

# 安装后端依赖
cd backend
npm install

# 启动开发服务器
npm run dev
```

### 生产环境
```bash
# 构建生产版本
npm run build

# 启动生产服务器
npm start
```

## 📝 更新日志

### v1.3 (当前版本)
- ✅ 完善的武器数据管理系统
- ✅ 知识图谱可视化优化
- ✅ 用户权限管理完善
- ✅ 数据导入导出功能
- ✅ 武器删除功能修复
- ✅ 制造商关联管理

### 计划功能
- 🔄 移动端适配优化
- 🔄 更多武器识别模型
- 🔄 高级数据分析功能
- 🔄 多语言支持

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进项目：

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 👥 开发团队

**南京理工大学紫金学院**
- 项目负责人：[姓名]
- 开发团队：[团队成员]

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 邮箱：[联系邮箱]
- 项目地址：[GitHub地址]

---

**神机图鉴** - 让军事知识更加智能化和可视化 🎯